<head>
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
	<!-- Latest compiled JavaScript -->
	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
</head>


<div>
	{% if user.is_authenticated %}
		<p align="right">Welcome {{user.username}} you have Logged in &nbsp;&nbsp; &nbsp; View <a href="/doreenselly/cart/">Cart</a>&nbsp;&nbsp; &nbsp;<a href="/doreenselly/logout">Logout</a></p>
	{% endif %}
</div>

<form action="/doreenselly/summary/" method="POST" enctype="multipart/form-data">
	{% csrf_token %}

	<div class="col-md-12">
		<h1>Your Address</h1>
	</div>

 <!--prepopulated--> 
	<div class="form-group ">
		<div class="input-group">
			<input type="text" class='form-control' name='street' value = "{{ user.signup.street }}" readonly/>
		</div>
	</div>
	<div class="form-group">
		<div class="input-group">
			<input type="text" class='form-control' name = 'city' value = "{{ user.signup.city }}" readonly/>
		</div>
	</div>
	<div class="form-group">
		<div class="input-group">
			<input type="text" class='form-control' name='state' value = "{{ user.signup.state }}" readonly/>
		</div>
	</div>
	<div class="form-group">
		<div class="input-group">
			<input type="text" class='form-control' name = 'zipcode' value = "{{ user.signup.zipcode }}" readonly/>
		</div>
	</div>
	<div class="form-group">
		<div class="input-group">
			<input type="text" class='form-control' name='country' value=" {{ user.signup.country }}" readonly>
		</div>
	</div>

	<!-- Pay Info -->

	<div class="col-md-12">
		<h1>Payment Method</h1>
	</div>

	<div class="row-fluid payinfo" id="bank_deposit">
		<div class="col-md-10">
			<div class="col-sm-3">
				<select id="bankName" name="account_bank_name" class='form-control' style="margin-top:20px;">
					<option value="hidden">Bank</option>
					<option value="Bank of Africa">Bank of Africa</option>
					<option value="Bank of Baroda">Bank of Baroda</option>
					<option value="Bank of India">Bank of India</option>
					<option value="Barclays Bank of Kenya">Barclays Bank of Kenya</option>
					<option value="CfC Stanbic Holdings">CfC Stanbic Holdings</option>
				</select>
			</div>
		</div>
		<div class="col-md-10">
			<div class="col-sm-3">
				<input type="number" placeholder="Amount Paid" name="amount_paid" id="amtPaid" class='form-control' style="margin-top:20px;" required/>
			</div>
		</div>
		<div class="col-md-10">
			<div class="col-sm-3">
				<input type="number" placeholder="Deposit Slip Number" name="deposit_slip_number" id="slipNumber" class='form-control' style="margin-top:20px;" required/>
			</div>
		</div>
	</div>
	<!-- Pay Info / CC -->

	<!-- Pay Info -->

	<div class="col-md-12 terms">
		<p>
			<input type="checkbox" id="id_terms_and_conditions" name="terms_and_conditions" style="margin-top:20px;"required/>Accept our <a href="#">Terms of Conditions</a>
		</p>
	</div>

	<div class="col-md-12 terms">
		<p>
			<input type="hidden" name="payable" value="{{payable}}" required/>
		</p>
	</div>
	
	<div class="col-md-12">
		<input type="submit" class='btn btn-primary' value="Submit"/>
	</div>

</form>




<script>
		 $(document).ready(function(){

				// $("#paypal").click(function(){
				// 		$("#pay_type").val("PayPal");
				// });
				$("#credit_card").click(function(){
						$("#pay_type").val("Card Payment").show();
				});
				$("#bank_transfer").click(function(){
						$("#pay_type").val("Bank Deposit").show();
				});
		});

</script>









<script>

		function validateForm(){
			 var pay_method = document.getElementById("pay_type").value;
			 var cardName = document.getElementById("b_cardName").value;
			 var cardNumber = document.getElementById("b_cardNumber").value;
			 var cardExpiryMonth = document.getElementById("b_cardExpiryMonth").value;
			 var cardExpiryYear = document.getElementById("b_cardExpiryYear").value;
			 var cardCVVCode = document.getElementById("b_cardCVVCode").value;
			 var bankName = document.getElementById("b_bankName").value;
			 var accName = document.getElementById("b_accName").value;
			 var accNumber = document.getElementById("b_accNumber").value;

			 if(document.myForm.b_shipping_method.value == "-1"){
				alert("Please Select an appropriate Shipping Method");
				return false;
			 } 

			 if (pay_method == null || pay_method == ""){
				alert("Please Select an appropriate Payment Method");
				return false;
			 }

			 else if ((pay_method == "Credit Card") && (cardName == null || cardName == "")){
				alert("Please Enter the name of the credit card holder ");
				return false;
			 } 

			 else if ((pay_method == "Credit Card") && (cardNumber == null || cardNumber == "")){
				alert("Please Enter the card Number");
				return false;
			 }

			 else if ((pay_method == "Credit Card") && (cardExpiryMonth == "-1")){
				alert("Please select the appropriate expiry month of your card");
				return false;
			 } 

			 else if ((pay_method == "Credit Card") && (cardExpiryYear == "-1")){
				alert("Please select the appropriate expiry year of your card");
				return false;
			 } 

				else if ((pay_method == "Credit Card") && (cardCVVCode == null || cardCVVCode == "" || cardCVVCode.length > 3 || isNaN(cardCVVCode))){
				alert("Please Enter your 3 digit CVV Code");
				return false;
			 } 

			 else if ((pay_method == "Bank Transfer") && (bankName == "-1")){
				alert("Please Enter the Name of the bank");
				return false;
			 } 

			 else if ((pay_method == "Bank Transfer") && (accName == null || accName == "")){
				alert("Please Enter the Name of the bank account holder");
				return false;
			 }

				else if ((pay_method == "Bank Transfer") && (accNumber == null || accNumber == "")){
				alert("Please Enter your Account Number");
				return false;
			 }

			 return (true);

		};

</script>