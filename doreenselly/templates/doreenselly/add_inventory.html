<!DOCTYPE html>
<html lang="en">

<head>

		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="">
		<meta name="author" content="">

		<!-- ico -->
		<link rel="icon" href="http://getbootstrap.com/favicon.ico">

		<title>Doreenselly.com - Inventory Manager Page</title>
		{% load staticfiles %}

		<!-- Bootstrap Core CSS -->
		<link href="{% static 'doreenselly/css/bootstrap.min.css' %}" rel="stylesheet">

		<!-- Slider Script -->
		<link href="{% static 'doreenselly/css/jquery.bxslider.css' %}" rel="stylesheet">

		<!-- Custom CSS -->
		<link href="{% static 'doreenselly/css/homepage.css' %}" rel="stylesheet">

		<!-- Special Font for Icons -->
		<link rel="stylesheet" href="{% static 'doreenselly/css/font-awesome.min.css' %}">
		<link rel="stylesheet" href="{% static 'doreenselly/css/font-awesome.css' %}">

		<!-- Font -->
		<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700' rel='stylesheet' type='text/css'>

		<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
				<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
				<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
		<![endif]-->
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
	
<style>
	.button {
			background-color: #4CAF50;
			border: none;
			color: white;
			padding: 15px 32px;
			text-align: center;
			text-decoration: none;
			display: inline-block;
			font-size: 16px;
			margin: 4px 2px;
			cursor: pointer;
	}
</style>

</head>

<!-- The #page-top ID is part of the scrolling feature - the data-spy and data-target are part of the built-in Bootstrap scrollspy function -->

<body id="page-top" class="orders_page">

		<!-- Pusher -->
		<div class="st-container">

				<!-- Page Content  -->
				<div class="st-content" data-spy="scroll" data-target=".navbar-fixed-top">

						<!-- Checkout Section -->
						<section class="checkout two">
								<!-- Page Inner  -->
								<div class="container pagein">
										<!-- Nav Links -->
										<div class="navlinks">
												<!-- Navigation -->
												<nav class="navbar navbar-default" role="navigation">
														<div class="container">
																<div class="navbar-header page-scroll">
																		<a class="navbar-brand page-scroll" href="index.html">
																		</a>
																</div>

																<a href="login.html" class="btn green" style="display:none;">Register/Login</a>

																<a href="/doreenselly/logout" class="btn red">Logout</a>

																<ul>
																		<li class="active">
																				<a href="/doreenselly/add_inventory">Inventory Manager</a>
																		</li>
																		<li>
																				<a href="/doreenselly/admin_order_view">Order Manager</a>
																		</li>
																		<li>
																				<a href="/doreenselly/admin_profile">My Profile</a>
																		</li>
																</ul>

																<!-- /.navbar-collapse -->
														</div>
														<!-- /.container -->
												</nav>
										</div>
										<!-- Nav Links -->
										<div class="pagein_content">
												<div class="container">
														<div class="col-md-12">
																<h1>Inventory <br/> Manager</h1>
														</div>
														<div class="col-md-8">
																<p> Cras efficitur diam consectetur tincidunt mollis. Mauris vitae lorem elit. Etiam elementum augue vitae odio imperdiet, non accumsan tellus suscipit. Fusce pellentesque imperdiet diam, et rhoncus urna. Cras a turpis felis.</p>
														</div>
														<div class="col-md-4">
																<a href="/doreenselly/add_inventory" class="btn green" style="float:right; margin:0;">Add Inventory Item</a>
														</div>
														<div class="col-md-12">
															<form method ="POST" action="/doreenselly/add_inventory/" enctype="multipart/form-data"class="form-horizontal">
																{% csrf_token %}
																<div class="text">
																		<div class="col-md-6">
																				<div class="col-md-12">
																						<h2>Add Inventory Item</h2>
																				</div>
																				<div class="col-md-12">
																						<p>Cras efficitur diam consectetur tincidunt mollis. Mauris vitae lorem elit. Etiam elementum augue vitae odio imperdiet, non accumsan tellus suscipit. </p><br/>
																						{{ add_inventory_form.description }}
																						{{ add_inventory_form.price }}
																						{{ add_inventory_form.shipping_weight }}
																						{{ add_inventory_form.quantity }}
																						{{ add_inventory_form.details }}
																						<button class="button">Add To List</button>
																				</div>
																		</div>
																		<a href="#" class="btn upload">{{ add_inventory_form.docfile }}</a>
																</div>
															</form>
														</div>
														<div class="col-md-12" style="padding-top:20px;">
															{% if request.user.signup.country == "USA" %}
																<table width="100%" border="0" class="fixed">
																		<tr>
																			<th>Location</th>
																			<th>Description</th>
																			<th>Price ($)</th>
																			<th>Quantity</th>
																			<th>Sold</th>
																			<th>Total Payments ($)</th>
																			<th></th>
																		</tr>
																		{% for product in items_from_usa %}
																		<tr>
																			<td>{{product.docfile}}</td>
																			<td>{{product.description}}</td>
																			<td>{{product.price}}</td>
																			<td>{{product.quantity}}</td>
																			<td>{{product.sold}}</td>
																			<td>{{product.total_payments}}</td>
																			<td>
																				<div class="hlinks">
																						<a href="#{{product.pk}}" item_id="{{product.pk}}" title="Edit this item" class="manipulate icon_space">
																								<i class="fa fa-pencil-square-o" aria-hidden="true"></i>
																						</a>
																						<a href='/admin_delete_item/{{product.id}}'  item_id="{{product.pk}}" title="Delete this item" onclick="return confirm('Are you sure you want to delete?')">
																								<i class="fa fa-times" aria-hidden="true"></i>
																						</a>
																				</div>
																			</td>
																		</tr>
																		{% endfor %}
																</table>
															{% elif request.user.signup.country == "KENYA" %}
																<table width="100%" border="0" class="fixed">
																		<tr>
																			<th>Location</th>
																			<th>Description</th>
																			<th>Price ($)</th>
																			<th>Quantity</th>
																			<th>Sold</th>
																			<th>Total Payments ($)</th>
																			<th></th>
																		</tr>
																		{% for product in items_from_kenya %}
																		<tr>
																			<td>{{product.docfile}}</td>
																			<td>{{product.description}}</td>
																			<td>{{product.price}}</td>
																			<td>{{product.quantity}}</td>
																			<td>{{product.sold}}</td>
																			<td>{{product.total_payments}}</td>
																			<td>
																				<div class="hlinks">
																						<a href="#{{product.pk}}" item_id="{{product.pk}}" title="Edit this item" class="manipulate icon_space">
																								<i class="fa fa-pencil-square-o" aria-hidden="true"></i>
																						</a>
																						<a href='/admin_delete_item/{{product.id}}'  item_id="{{product.pk}}" onclick="return confirm('Are you sure you want to delete?')">
																								<i class="fa fa-times" aria-hidden="true"></i>
																						</a>
																				</div>
																			</td>
																		</tr>
																		{% endfor %}
																</table>
															{% else %}
																<p>No <strong>item</strong> is available</p>
															{% endif %}
														</div>
												</div>
										</div>

										<!-- Modal -->
										<div class="modal fade" id="edititemModal{{product.pk}}" role="dialog" style="height: auto;">
											<div class="modal-dialog">
											<!-- Modal content-->
												<div class="modal-content" align="left" >
													<div class="modal-header">
														<button type="button" class="close" data-dismiss="modal">&times;</button>
															<h4 class="modal-title">Edit or Update Item </h4>
													</div>
													<div class="modal-body">
														<div class="alert hidden" id="alert1" role="alert">
														</div>
														<p id="item_make"></p>
														<form action="/doreenselly/edit_item/" method="post" class="special" enctype="multipart/form-data" item_id="{{product.pk}}" >
															{% csrf_token %}
																<div class="form-group">
																	<input type="number" id="id_item" maxlength="32" name = "item_id" value="{{id}}" class="form-control" required/>
																</div>

																<div class="form-group">
																	<label>Description</label>
																	<input type="text" id="id_description" maxlength="32" name = "description" value="{{item_val}}" class="form-control" required/>
																</div>

																<div class="form-group">
																	<label>Price</label>
																	<input type="number" id="id_price" maxlength="32" name="price" value="{{price}}" class="form-control" required/>
																</div>

																<div class="form-group">
																	<label>Quantity</label>
																	<input type="number" id="id_quantity" maxlength="10" name="quantity" value="{{quantity}}" class="form-control" required/> 
																</div>

																<div class="modal-footer">
																	<input type="submit" name="edit" id="edit_item" class='btn pull-right' value="Update"/>
																</div>
																
														</form><br>
													</div>
												</div>
											</div>
										</div>

										<!-- Footer -->
										<footer>
												<!-- Footer Bottom -->
												<div class="footer-bottom">
														<div class="container">
																<div class="social">
																		<a href="#">
																				<i class="fa fa-facebook-square"></i>
																		</a>
																		<a href="#">
																				<i class="fa fa-twitter-square"></i>
																		</a>
																		<a href="#">
																				<i class="fa fa-google-plus-square"></i>
																		</a>
																		<a href="#">
																				<i class="fa fa-linkedin-square"></i>
																		</a>
																</div>
														</div>
												</div>
												<!-- Footer Bottom -->

										</footer>
										<!-- Footer -->
								</div>
								<!-- Page Inner  -->
						</section>
						<!-- Checkout Section -->

				</div>
				<!-- Page Content  -->

		</div>
		<!-- Pusher -->

		<!-- jQuery -->
		<script src="{% static 'doreenselly/js/jquery.js' %}"></script>

		<!-- Bootstrap Core JavaScript -->
		<script src="{% static 'doreenselly/js/bootstrap.min.js' %}"></script>

		<!-- Scrolling Nav JavaScript -->
		<script src="{% static 'doreenselly/js/jquery.easing.min.js' %}"></script>
		<script src="{% static 'doreenselly/js/scrolling-nav.js' %}"></script>

		<!-- Slider Script -->
		<script src="{% static 'doreenselly/js/jquery.bxslider.min.js' %}"></script>

		<!-- Custom Script for Page  -->
		<script src="js/script.js"></script>
		<!--  -->
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.11/jquery-ui.min.js"></script>

		<link href="http://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css" rel="stylesheet">
		<script src="http://code.jquery.com/jquery-1.10.2.js"></script>
		<!--<script src="http://code.jquery.com/jquery-1.10.2.js"></script>-->
		<script src="http://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>


		<!-- Slider Script -->
		<script>
				$(document).ready(function () {
						$('.bxslider').bxSlider({
								mode: 'fade',
								auto: true,
								infiniteLoop: true,
								touchEnabled: true
						});
				});
		</script>


<script>
$(document).ready(function(){
	$(".manipulate").click(function(){
		$('#id_description').val();
		var item_keys = ['#id_location','#id_description', '#id_price', '#id_quantity']
		for(var i=1; i<9; i++){
			var item_val = $(this).parent().parent().find('td:nth-child('+i+')')[0].innerText;
			console.log("InnerText is :"+ item_val);
			// alert(item_val);
			$(item_keys[i-1]).val(item_val);
			// alert($(item_keys[i-1]).val(item_val));
			// var ans = $(item_keys[i-1]).val(item_val);
			// alert(ans);
			// console.log(ans);
		}
		$('#id_item').val($(this).attr('item_id'));
		$('#edititemModal').modal('show');
	});
});
</script>

</body>

</html>